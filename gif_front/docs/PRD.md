# GIF制作工具箱（微信小程序端侧版）PRD

## 1. 背景与目标
本产品提供 GIF 制作与编辑能力，**全部在手机端（小程序端）执行**，不依赖后端服务。V1 聚焦“可稳定交付”的端侧能力，并对高风险能力做清晰的失败提示与参数限制。

## 2. 范围（V1）
### 2.1 首页工具入口（九宫格）
- 视频转GIF（V1：端侧实验能力占位；失败即提示失败原因）
- 图片转GIF（V1：**已实现**，端侧稳定合成）
- GIF压缩（V1：规划，未实现）
- GIF加字（V1：规划，未实现）
- GIF旋转（V1：规划，未实现）
- GIF裁剪（V1：规划，未实现）
- GIF缩放（V1：规划，未实现）

### 2.2 明确不做
- GIF转视频：**不做**

## 3. 关键约束（强制）
- 视频截取最长：**10 秒**
- 超出能力范围：**直接提示失败**（不做隐式降级、不做排队）
- 包体约束：在小程序包大小范围内尽量优化（后续使用分包/按需加载）

## 4. 核心交互（参考附件）
### 4.1 首页
- 2 列卡片九宫格，苹果毛玻璃（glassmorphism）风格
- 点击入口：
  - 已实现：跳转到对应页面
  - 未实现：toast“功能待完善”

### 4.2 视频转GIF页
- 顶部：返回 + 标题
- 预览区：视频播放预览；未选视频时显示占位提示
- 时间轴：
  - 截取范围：起止双滑条
  - 选区可视化：绿色区间条
  - 规则：`end - start <= 20s`
- 参数：
  - 分辨率：360p / 480p / 720p
  - 帧率：5 / 8 / 10 / 12 FPS
- 底部：主按钮「转换」
- 失败策略：弹窗 `转换失败：<原因>`

## 5. 端侧技术可行性说明（对齐产品口径）
小程序端缺少稳定可控的视频逐帧解码与 GIF 编码能力（尤其是兼容性、内存与耗时），因此 V1 的“视频转GIF”采用占位实现：
- 具备完整 UI 与参数/限制/校验
- 点击转换会执行端侧服务函数；如能力不足则**直接失败提示**

> 后续若需要真正端侧“视频转GIF”，建议评估：原生插件（Plugin）或独立 App 方案。

## 6. 版本规划（建议）
- V1（本次）：首页 + 视频转GIF UI/校验/失败提示 + 文档与规范
- V1.1：图片转GIF性能与体验优化（更多参数、队列/进度、分包按需加载）
- V1.2：GIF编辑（加字/旋转/裁剪/缩放/压缩）


